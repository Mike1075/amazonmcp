import{a as N,c as d,e as m,i as p,l as g}from"/build/_shared/chunk-IASYZMWF.js";import{b as h,c}from"/build/_shared/chunk-Q3IECNXJ.js";var x=h((_,u)=>{u.exports={}});var y=c(x(),1);var b=c(N(),1);var e=c(g(),1),w=()=>[{title:"\u667A\u80FD\u6BD4\u4EF7\u795E\u5668 - \u591A\u5E73\u53F0\u5546\u54C1\u4EF7\u683C\u5BF9\u6BD4"},{name:"description",content:"\u4E00\u952E\u641C\u7D22\uFF0C\u591A\u5E73\u53F0\u6BD4\u4EF7\uFF0C\u5E2E\u60A8\u627E\u5230\u6700\u4F18\u60E0\u7684\u4EF7\u683C"}];function f(){let{products:s,query:t}=p(),i=d().state==="submitting",[r,o]=(0,b.useState)([]);return(0,e.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,e.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,e.jsxs)("header",{className:"text-center mb-12",children:[(0,e.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\u{1F6D2} \u667A\u80FD\u6BD4\u4EF7\u795E\u5668"}),(0,e.jsx)("p",{className:"text-xl text-gray-600",children:"\u4E00\u952E\u641C\u7D22\uFF0C\u591A\u5E73\u53F0\u6BD4\u4EF7\uFF0C\u5E2E\u60A8\u627E\u5230\u6700\u4F18\u60E0\u7684\u4EF7\u683C"})]}),(0,e.jsxs)("div",{className:"max-w-4xl mx-auto mb-12",children:[(0,e.jsxs)(m,{method:"get",className:"flex gap-4 mb-6",children:[(0,e.jsx)("div",{className:"flex-1 relative",children:(0,e.jsx)("input",{name:"q",type:"text",placeholder:"\u641C\u7D22\u4EA7\u54C1...",defaultValue:t||"",className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,e.jsx)("button",{type:"submit",disabled:i,className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"\u641C\u7D22\u4E2D...":"\u641C\u7D22"})]}),(0,e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 mr-2",children:"\u5E73\u53F0\u7B5B\u9009:"}),["amazon","walmart","ebay","target"].map(a=>(0,e.jsx)("button",{type:"button",onClick:()=>{o(n=>n.includes(a)?n.filter(v=>v!==a):[...n,a])},className:`px-3 py-1 text-sm rounded-full border ${r.includes(a)?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})]}),(0,e.jsxs)("div",{className:"max-w-6xl mx-auto",children:[t&&(0,e.jsxs)("h2",{className:"text-2xl font-semibold mb-6",children:['\u641C\u7D22\u7ED3\u679C: "',t,'" (',s.length," \u4E2A\u4EA7\u54C1)"]}),!t&&(0,e.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\u70ED\u95E8\u4EA7\u54C1"}),(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>(0,e.jsx)(P,{product:a},a.id))}),s.length===0&&t&&(0,e.jsx)("div",{className:"text-center py-12",children:(0,e.jsx)("p",{className:"text-gray-500 text-lg",children:"\u6CA1\u6709\u627E\u5230\u76F8\u5173\u4EA7\u54C1\uFF0C\u8BF7\u5C1D\u8BD5\u5176\u4ED6\u5173\u952E\u8BCD"})})]})]})})}function P({product:s}){let t=s.price_records.sort((r,o)=>r.price-o.price),l=t[0],i=t.length>1?`$${l.price} - $${t[t.length-1].price}`:`$${l?.price||"N/A"}`;return(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,e.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,e.jsx)("img",{src:s.image_url||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=300",alt:s.name,className:"w-full h-48 object-cover"})}),(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:s.name}),(0,e.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("span",{className:"text-2xl font-bold text-green-600",children:i}),(0,e.jsxs)("span",{className:"text-sm text-gray-500",children:[t.length," \u4E2A\u5E73\u53F0"]})]}),t.length>0&&(0,e.jsxs)("div",{className:"space-y-1",children:[t.slice(0,3).map((r,o)=>(0,e.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,e.jsx)("span",{className:"capitalize font-medium",children:r.platform}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("span",{className:o===0?"text-green-600 font-semibold":"text-gray-600",children:["$",r.price]}),o===0&&(0,e.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"\u6700\u4F4E\u4EF7"})]})]},r.id)),t.length>3&&(0,e.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["+",t.length-3," \u66F4\u591A\u5E73\u53F0"]})]})]})]})]})}export{f as default,w as meta};
